import sys

from scrape_folder import parse_folder
from download_archive import download_and_unzip
from scrape_refmap_mitre import scrape_mitre
from  exploitdb_list import parse_description_file

def update(download_path, extract_path):
    print('Now downloading and extracting files...')
    download_and_unzip(download_path, extract_path)
    print('Getting mitre refs...')
    scrape_mitre()
    print('Getting descriptions...')
    parse_description_file(extract_path + 'exploitdb-master')
    print('Parsing files...')
    parse_folder(extract_path + 'exploitdb-master/exploits')


if __name__ == '__main__':
    update(sys.argv[1], sys.argv[2])
